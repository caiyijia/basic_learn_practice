<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>封装type，数组去重</title>
</head>

<body>
    <script type="text/javascript">
        // function type(target) {

        //     var template = {
        //         "[object Array]" : "array",
        //         "[object Object]" : "object",
        //         "[object Number]" : "number - object",
        //         "[object Boolean]" : 'boolean - object',
        //         "[object String]" : 'string - object'
        //     }

        //     if(target === null) {
        //         return null;
        //     };

        //     // if(typeof(target) == 'function') {
        //     //     return 'function';
        //         // }else 
        //     if(typeof(target) == "object") {

        //         var str = Object.prototype.toString.call(target) ;
        //         return template[str];
        //     }else{
        //         return typeof(target);
        //     }
        // }

        // 数组去重
        var arr = [1, '1', , 3, 3, 3, 3, 2, 2, 4, 20, 30]


        Array.prototype.unique = function () {
            var temp = {};
            var arr = [],
                len = this.length;
            for (var i = 0; i < len; i++) {
                if (!temp[this[i]]) {
                    temp[this[i]] = 'marked';
                    arr.push(this[i]);
                }

            }
            return arr;
        }

        Array.prototype.unique1 = function () {
            // sort() 默认排序顺序是根据字符串Unicode码点。
            this.sort();
            var len = this.length;
            var newArr = [this[0]];
            for (let i = 0; i < len; i++) {
                if (this[i] != newArr[newArr.length - 1]) {
                    newArr.push(this[i]);
                }
            }
            return newArr;
        }
        // 可以区分字符串和数字类型
        Array.prototype.unique2 = function () {
            var newArr = [],
                len = this.length;
            for (var i = 0; i < len; i++) {
                if(newArr.indexOf(this[i]) == -1) {
                    newArr.push(this[i]);
                }
            }
            return newArr;
        }
    </script>




</body>

</html>